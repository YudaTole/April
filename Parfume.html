<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Toko Parfum</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f7f7f7; padding:20px; }
    h2 { margin-top:30px; }
    form, table { background:#fff; padding:20px; border-radius:10px; }
    select, input, button { padding:8px; margin:5px; }
  </style>
</head>
<body>
  <h1>Toko Parfum</h1>

  <h2>Tambah Pesanan</h2>
  <form id="orderForm">
    <label>Nama Parfum: <input type="text" id="nama" required></label><br>

    <label>Bibit: 
      <select id="bibit"></select>
    </label><br>

    <label>Botol: 
      <select id="botol"></select>
    </label><br>

    <label>Kualitas: 
      <select id="kualitas"></select>
    </label><br>

    <label>Jumlah: <input type="number" id="jumlah" value="1" min="1"></label><br>

    <p><b>Total Harga: Rp <span id="total">0</span></b></p>

    <button type="submit">Tambah ke Daftar</button>
  </form>

  <h2>Daftar Pesanan</h2>
  <table border="1" cellpadding="8">
    <thead>
      <tr>
        <th>Nama</th>
        <th>Bibit</th>
        <th>Botol</th>
        <th>Kualitas</th>
        <th>Jumlah</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody id="orderList"></tbody>
  </table>

<script>
const bibitData = [
  {nama:"Rose", harga:20000},
  {nama:"Jasmine", harga:25000},
  {nama:"Vanilla", harga:30000},
  {nama:"Lavender", harga:28000},
  {nama:"Musk", harga:35000}
];

const botolData = [
  {nama:"Botol 30ml", harga:5000},
  {nama:"Botol 50ml", harga:8000},
  {nama:"Botol 100ml", harga:12000}
];

const kualitasData = [
  {nama:"Standard", harga:0},
  {nama:"Sedang", harga:5000},
  {nama:"Premium", harga:10000}
];

// isi dropdown
function loadOptions() {
  let bibitSelect = document.getElementById("bibit");
  let botolSelect = document.getElementById("botol");
  let kualitasSelect = document.getElementById("kualitas");

  bibitData.forEach(b => {
    bibitSelect.innerHTML += `<option value="${b.harga}">${b.nama} (Rp${b.harga})</option>`;
  });

  botolData.forEach(b => {
    botolSelect.innerHTML += `<option value="${b.harga}">${b.nama} (Rp${b.harga})</option>`;
  });

  kualitasData.forEach(k => {
    kualitasSelect.innerHTML += `<option value="${k.harga}">${k.nama} (Rp${k.harga})</option>`;
  });
}

function hitungTotal() {
  let bibit = parseInt(document.getElementById("bibit").value);
  let botol = parseInt(document.getElementById("botol").value);
  let kualitas = parseInt(document.getElementById("kualitas").value);
  let jumlah = parseInt(document.getElementById("jumlah").value);

  let total = (bibit + botol + kualitas) * jumlah;
  document.getElementById("total").textContent = total.toLocaleString();
  return total;
}

document.getElementById("orderForm").addEventListener("input", hitungTotal);

document.getElementById("orderForm").addEventListener("submit", function(e){
  e.preventDefault();

  let nama = document.getElementById("nama").value;
  let bibit = document.getElementById("bibit").selectedOptions[0].text;
  let botol = document.getElementById("botol").selectedOptions[0].text;
  let kualitas = document.getElementById("kualitas").selectedOptions[0].text;
  let jumlah = document.getElementById("jumlah").value;
  let total = hitungTotal();

  document.getElementById("orderList").innerHTML += `
    <tr>
      <td>${nama}</td>
      <td>${bibit}</td>
      <td>${botol}</td>
      <td>${kualitas}</td>
      <td>${jumlah}</td>
      <td>Rp ${total.toLocaleString()}</td>
    </tr>
  `;

  document.getElementById("orderForm").reset();
  document.getElementById("total").textContent = "0";
});

// load awal
loadOptions();
hitungTotal();
</script>
</body>
</html>
